(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"1DEj":function(n,e,l){},QfWi:function(n,e,l){"use strict";l.r(e);l("wCa+"),l("Muwe"),l("X5mX");var t=l("jffb"),r=l.n(t),a=function(n){try{var e=localStorage.getItem(n);return null===e?void 0:JSON.parse(e)}catch(n){console.error("Get state error: ",n)}},o=function(n,e){try{var l=JSON.stringify(e);localStorage.setItem(n,l)}catch(n){console.error("Set state error: ",n)}},s=(l("bzha"),l("zrP5"),l("QJ3N")),c={title:"Something went wrong.",type:"error",delay:8e3,mouseReset:!0,stack:new s.Stack({dir1:"down",firstpos1:125,firstpos2:25,spacing1:36,spacing2:36,context:document.querySelector(".find-country__alert")})};l("JBxO"),l("FdtR");var i=l("vY5I"),u=l.n(i),p=l("u5QN"),f=l.n(p),m={search:document.querySelector(".find-country__search"),result:document.querySelector(".find-country__result"),alert:document.querySelector(".find-country__alert")};function d(n){n&&(function(n){return fetch("https://restcountries.eu/rest/v2/name/"+n).then((function(n){return n.json()}))}(n).then(h).catch((function(n){m.result.innerHTML="",m.alert.innerHTML="";var e='Country: "'+m.search.value+'", - is not founded';Object(s.alert)(Object.assign({},c,{title:e})),console.log("CATH - Ошибка выполнения запроса"+n)})),o("searchQuery",n))}function h(n,e){if(void 0===e&&(e=10),console.dir(n),!n.length){m.result.innerHTML="",m.alert.innerHTML="";var l='Country: "'+m.search.value+'", - is not founded';return Object(s.alert)(Object.assign({},c,{title:l})),void console.log("Страна не найдена!")}return 1===n.length?(m.alert.innerHTML="",void function(n){console.log("Если бекенд вернул массив с одной страной!\n в интерфейсе рендерится разметка с данными о стране: название, столица, население, языки и флаг."),console.table(n),m.result.innerHTML=f()(n[0])}(n)):e<n.length?(m.result.innerHTML="",void function(n){var e={title:"Please enter a more specific query!",text:'By "'+m.search.value+'" is '+n.length+" matches founded"};m.result.innerHTML="",Object(s.alert)(Object.assign({},c,e)),console.log(n.length),console.log("больше 10ти = Если бекенд вернул больше чем 10 стран подошедших под критерий введенный пользователем, в интерфейсе отображается нотификация о том, что необходимо сделать запрос более специфичным. Для оповещений используй плагин pnotify(https://github.com/sciactive/pnotify).")}(n)):(m.alert.innerHTML="",void function(n){m.result.innerHTML=u()(n),m.result.addEventListener("click",y)}(n))}function y(n){if(n.target.classList.contains("js-renderList-click")){var e=n.target.innerText;m.search.value=n.target.innerText,d(e),m.result.removeEventListener("click",y)}}m.search.value=a("searchQuery")||"",m.search.addEventListener("input",r()((function(n){d(m.search.value)}),500)),m.search.closest("form").addEventListener("submit",(function(n){n.preventDefault(),d(m.search.value)}));l("1DEj")},u5QN:function(n,e,l){var t=l("mp5j");n.exports=(t.default||t).template({1:function(n,e,l,t,r){var a=n.lambda,o=n.escapeExpression,s=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'                    <li class="single-country__brief-value">'+o(a(null!=e?s(e,"name"):e,e))+" <sub>"+o(a(null!=e?s(e,"nativeName"):e,e))+"</sub></li>\r\n"},compiler:[8,">= 4.3.0"],main:function(n,e,l,t,r){var a,o,s=null!=e?e:n.nullContext||{},c=n.hooks.helperMissing,i="function",u=n.escapeExpression,p=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<div class="single-country">\r\n\r\n    <div class="single-country__header">\r\n        <h2 class="single-country__name">'+u(typeof(o=null!=(o=p(l,"name")||(null!=e?p(e,"name"):e))?o:c)===i?o.call(s,{name:"name",hash:{},data:r,loc:{start:{line:4,column:41},end:{line:4,column:49}}}):o)+'</h2>\r\n        <b class="single-country__native-name">('+u(typeof(o=null!=(o=p(l,"nativeName")||(null!=e?p(e,"nativeName"):e))?o:c)===i?o.call(s,{name:"nativeName",hash:{},data:r,loc:{start:{line:5,column:48},end:{line:5,column:62}}}):o)+')</b>\r\n    </div>\r\n\r\n    <div class="single-country__flex-block">\r\n        <ul class="single-country__brief">\r\n            <li class="single-country__item">\r\n                <span class="single-country__brief-key">Capital</span>\r\n                :\r\n                <span class="single-country__brief-value">'+u(typeof(o=null!=(o=p(l,"capital")||(null!=e?p(e,"capital"):e))?o:c)===i?o.call(s,{name:"capital",hash:{},data:r,loc:{start:{line:13,column:58},end:{line:13,column:69}}}):o)+'</span>\r\n            </li>\r\n            <li class="single-country__item">\r\n                <span class="single-country__brief-key">Population</span>\r\n                :\r\n                <span class="single-country__brief-value">'+u(typeof(o=null!=(o=p(l,"population")||(null!=e?p(e,"population"):e))?o:c)===i?o.call(s,{name:"population",hash:{},data:r,loc:{start:{line:18,column:58},end:{line:18,column:72}}}):o)+'</span>\r\n            </li>\r\n            <li class="single-country__item">\r\n                <span class="single-country__brief-key">Languages</span>\r\n                :\r\n                <ul class="single-country__brief-sublist">\r\n'+(null!=(a=p(l,"each").call(s,null!=e?p(e,"languages"):e,{name:"each",hash:{},fn:n.program(1,r,0),inverse:n.noop,data:r,loc:{start:{line:24,column:20},end:{line:26,column:29}}}))?a:"")+'                </ul>\r\n            </li>\r\n        </ul>\r\n\r\n        <img class="single-country__flag" src="'+u(typeof(o=null!=(o=p(l,"flag")||(null!=e?p(e,"flag"):e))?o:c)===i?o.call(s,{name:"flag",hash:{},data:r,loc:{start:{line:31,column:47},end:{line:31,column:55}}}):o)+'" alt="'+u(typeof(o=null!=(o=p(l,"name")||(null!=e?p(e,"name"):e))?o:c)===i?o.call(s,{name:"name",hash:{},data:r,loc:{start:{line:31,column:62},end:{line:31,column:70}}}):o)+'  flag" class="class">\r\n\r\n    </div>\r\n</div>'},useData:!0})},vY5I:function(n,e,l){var t=l("mp5j");n.exports=(t.default||t).template({1:function(n,e,l,t,r){var a,o=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'    <li class="find-country__list-item js-renderList-click">\r\n        '+n.escapeExpression("function"==typeof(a=null!=(a=o(l,"name")||(null!=e?o(e,"name"):e))?a:n.hooks.helperMissing)?a.call(null!=e?e:n.nullContext||{},{name:"name",hash:{},data:r,loc:{start:{line:4,column:8},end:{line:4,column:16}}}):a)+"\r\n    </li>\r\n"},compiler:[8,">= 4.3.0"],main:function(n,e,l,t,r){var a;return'<ul class="find-country__ul">\r\n'+(null!=(a=(n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]})(l,"each").call(null!=e?e:n.nullContext||{},e,{name:"each",hash:{},fn:n.program(1,r,0),inverse:n.noop,data:r,loc:{start:{line:2,column:4},end:{line:6,column:13}}}))?a:"")+"</ul>"},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.a0e200fe300677203ec3.js.map